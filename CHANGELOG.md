# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.346.0] 28.04.2025

Fixed:

* обновление версии: 0.331.0 -> 0.346.0

## [0.331.0] 21.03.2025

Created:

* обновление версии: 0.312.0 -> 0.331.0

## [0.312.0] 11.02.2025

Обновление версии: 0.303.0 -> 0.312.0

## [0.303.0] 04.02.2025

Обновление версии: 0.260.0 -> 0.303.0

## [0.275.0] 26.11.2024

Обновление версии: 0.260.0 -> 0.260.0

Fixed:

- исправлена сборка Docker

## [0.260.0] 19.11.2024

Обновление версии: 0.246.1 -> 0.260.0

## [0.246.1] 09.10.2024

Обновление версии: 0.246.0 -> 0.246.1

Created:

- добавлена интеграция с Budibase.

## [0.246.0] 03.10.2024

Обновление версии: 0.239.3 -> 0.246.0

## [0.239.3] 01.10.2024

Fixed:

- исправлена ошибка с копирование workbook'а для ролей отличных от master.

## [0.239.2] 24.09.2024

Fixed:

- исправлена ошибка с копирование workbook'а

## [0.239.1] 24.09.2024

Fixed:

- добавлены права на перемещение workbooks в демонстрационные данные.

## [0.239.0] 04.09.2024

Обновление версии: 0.224.2 -> 0.239.0

Fixed:

- обновлена функция core.sf_create_embed;
- добавлены правила безопасности в демонстрационных данных.

## [0.224.2] 22.08.2024

Fixed:

- обновлена функция core.sf_create_user, исправлена ошибка с привязкой проекта по умолчанию;
- обновлён скрипт с демонстрационными данными.

## [0.224.1] 12.08.2024

Fixed:

- обновление версии с main;
- исправлена ошибка с созданием новых воркбуков и коллекций.

## [0.224.0] 22.07.2024

Обновление версии: 0.214.0 -> 0.224.0

Fixed:

- обновлён механизм назначения прав (внесены изменения с учётом zitadel)

## [0.214.2] 12.07.2024

Fixed:

- исправлена операция по передаче массовых данных;
- исправлена привязка прав для администратора.

## [0.214.1] 04.07.2024

Fixed:

- исправлен скрипт создания демонстрационных данных: добавлены проекты;
- доработаны функции создания/обновления коллекций и воркбуков;
- обновлены демонстрационные данные.

## [0.214.0] 02.07.2024

Created:

- добавлен параметр `USE_AUTH_DATA` - создание таблиц и данных для авторизации через `datalens-auth`.

Fixed:

- обновлён скрипт создания БД для авторизации;
- обновление версии с main 0.204.0 -> 0.214.0.

## [0.209.2a] 01.07.2024

Fixed:
- доработана фильтрация объектов по заранее "заложенной" безопасности, ранее были ошибки с видимостью объектов.

## [0.209.1a] 28.06.2024

Created:

- добавлены функции для подключения oidc провайдера.

## [0.209.0z] 27.06.2024

Created:

- обновление ветки: 0.204.3 -> 0.209.0z. 

Обновление вынесено в отдельную [ветку](https://github.com/akrasnov87/datalens-us/tree/zitadel)

## [0.204.3] 26.06.2024

Created:

- создана универсальная функция для выполнения удалённых запросов. 

Fixed:

- изменены ранее созданные функции для удалённых запросов.

## [0.204.2] 24.06.2024

Fixed:

- в скрипт для демо-данных добавлена "безопасность" для просмотра списка таблиц `PostgreSQL` (`https://github.com/akrasnov87/datalens-auth/blob/main/README.md`).

## [0.204.1] 10.06.2024

Created:

- Созданы функции по работе с пользователями

В новой версии была изменена БД. Для ручного изменения можно выполнить [скрипт](https://github.com/akrasnov87/us-db-ci_purgeable/blob/main/MIGRATION/0.1.1.sql). Либо "накатить" изменения из [исходного кода](https://github.com/akrasnov87/us-db-ci_purgeable)

## [0.204.0] 05.06.2024

Created:

- обновление с ветки main 0.189.0 -> 0.204.0

Fixed:

- исправлено создания демонстрационных данных с учётом авторизации.

## [0.189.1] 18.04.2024

Created:

- созданы две функции для HTTP запросов /encodeId и /decodeId.

## [0.189.0] 16.04.2024

Created:

- обновление с ветки main 0.185.0 -> 0.189.0

## [0.185.2] 08.04.2024

Created:

- загрузка кода с `main` ветки `datalens-tech`;
- добавлен код для разработки интерфейса безопасности;
- добавлен код для создания безопасности по умолчанию;
- добавлено деление на projectId;

Fixed:

- [0.185.1] исправлена ошибка с отсутствием доступа при создание чарта-QL;
- [0.185.2] исправлена функция для получения статуса авторизации для чарта-QL.

## [0.175.2] 08.04.2024

Fixed:

- добавлена безопасность для режима редактирования entry.

## [0.175.1] 07.03.2024

Created:

- добавлена форма авторизациия для RPC.

## [0.175.0] 20.03.2024

Fixed:

- исправлена ошибка в deploy, исправлен порт 8083 на 80;
- исправлена отображение списка объектов при отключенной авторизации;
- добавлено исключение для запросов к RPC сервису (на главной странице);
- исправлена ошибка с вычислением длины контента в запроса к RPC.

## [0.168.0] 12.03.2024

Created:

- загружены обновления с главной ветки;
- внесены изменения связанные с безопасность редактирования;
- добавлена возможность скрытия определённых элементов (workbook, collection).

Fixed:

- исправлен механизм работы без RPC сервиса;
- доработан механизм для прокидывания параметров запроса для "поделиться".

## [0.159.0-1] 

Created:

- добавлена возможность переопределения прав доступа за счёт переопределения;

## 0.143.0-5

Fixed:

- доработана проверка на авторизацию для приватных запросов.

## 0.143.0-4

### Added:
- Добавлена возможность обработки заголовка `x-rpc-authorization` с возможностью прокидывания ответа в `response`, как свойство rpc. Механизм включается есть передан аргумент `NODE_RPC_URL`. Результат храниться в переменной `ctx` объекта `Request`;
- Добавлены дополнителные аргументы при передачи на RPC: метод запроса, все заголовки.